(this["webpackJsonpstock-price-react-hooks"]=this["webpackJsonpstock-price-react-hooks"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(24)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(5),s=a.n(i),c=(a(17),a(3)),o=a.n(c),l=a(6),u=a(2),h=a(1),v=a.n(h),m=(a(20),a(21),function(e){var t,a,n,i,s,c,o=e.data;return r.a.createElement("div",{id:"data-container"},r.a.createElement("div",{id:"left",className:"box"},r.a.createElement("div",{className:"heading"},Number(null===(t=o[o.length-1])||void 0===t?void 0:t.y).toLocaleString("us-EN",{style:"currency",currency:"USD"})),r.a.createElement("div",{className:"subtext"},"Updated "+v()(new v.a).fromNow())),r.a.createElement("div",{id:"middle",className:"box"},r.a.createElement("div",{className:"heading"},Number((null===(a=o[o.length-1])||void 0===a?void 0:a.y)-(null===(n=o[0])||void 0===n?void 0:n.y)).toLocaleString("us-EN",{style:"currency",currency:"USD"})),r.a.createElement("div",{className:"subtext"},"Change Since Last Month (USD)")),r.a.createElement("div",{id:"right",className:"box"},r.a.createElement("div",{className:"heading"},(((null===(i=o[o.length-1])||void 0===i?void 0:i.y)-(null===(s=o[0])||void 0===s?void 0:s.y))/(null===(c=o[0])||void 0===c?void 0:c.y)*100).toFixed(2)+"%"),r.a.createElement("div",{className:"subtext"},"Change Since Last Month (%)")))}),g=a(7),d=a(8),y=a(10),p=a(9),S=a(11),f=(a(22),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(y.a)(this,Object(p.a)(t).call(this,e))).state={hoverLoc:null,activePoint:null},a}return Object(S.a)(t,e),Object(d.a)(t,[{key:"getX",value:function(){var e=this.props.data;return{min:e[0].x,max:e[e.length-1].x}}},{key:"getY",value:function(){var e=this.props.data;return{min:e.reduce((function(e,t){return t.y<e?t.y:e}),e[0].y),max:e.reduce((function(e,t){return t.y>e?t.y:e}),e[0].y)}}},{key:"getSvgX",value:function(e){var t=this.props,a=t.svgWidth,n=t.yLabelSize;return n+e/this.getX().max*(a-n)}},{key:"getSvgY",value:function(e){var t=this.props,a=t.svgHeight,n=t.xLabelSize,r=this.getY();return((a-n)*r.max-(a-n)*e)/(r.max-r.min)}},{key:"makePath",value:function(){var e=this,t=this.props,a=t.data,n=t.color,i="M "+this.getSvgX(a[0].x)+" "+this.getSvgY(a[0].y)+" ";return i+=a.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join(""),r.a.createElement("path",{className:"linechart_path",d:i,style:{stroke:n}})}},{key:"makeArea",value:function(){var e=this,t=this.props.data,a="M "+this.getSvgX(t[0].x)+" "+this.getSvgY(t[0].y)+" ";a+=t.map((function(t,a){return"L "+e.getSvgX(t.x)+" "+e.getSvgY(t.y)+" "})).join("");var n=this.getX(),i=this.getY();return a+="L "+this.getSvgX(n.max)+" "+this.getSvgY(i.min)+" L "+this.getSvgX(n.min)+" "+this.getSvgY(i.min)+" ",r.a.createElement("path",{className:"linechart_area",d:a})}},{key:"makeAxis",value:function(){var e=this.props.yLabelSize,t=this.getX(),a=this.getY();return r.a.createElement("g",{className:"linechart_axis"},r.a.createElement("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.min),x2:this.getSvgX(t.max),y2:this.getSvgY(a.min),strokeDasharray:"5"}),r.a.createElement("line",{x1:this.getSvgX(t.min)-e,y1:this.getSvgY(a.max),x2:this.getSvgX(t.max),y2:this.getSvgY(a.max),strokeDasharray:"5"}))}},{key:"makeLabels",value:function(){var e=this.props,t=e.svgHeight,a=e.svgWidth,n=e.xLabelSize,i=e.yLabelSize;return r.a.createElement("g",{className:"linechart_label"},r.a.createElement("text",{transform:"translate(".concat(i/2,", 20)"),textAnchor:"middle"},this.getY().max.toLocaleString("us-EN",{style:"currency",currency:"USD"})),r.a.createElement("text",{transform:"translate(".concat(i/2,", ").concat(t-n-5,")"),textAnchor:"middle"},this.getY().min.toLocaleString("us-EN",{style:"currency",currency:"USD"})),r.a.createElement("text",{transform:"translate(".concat(i,", ").concat(t,")"),textAnchor:"start"},this.props.data[0].d),r.a.createElement("text",{transform:"translate(".concat(a,", ").concat(t,")"),textAnchor:"end"},this.props.data[this.props.data.length-1].d))}},{key:"getCoords",value:function(e){var t=this,a=this.props,n=a.svgWidth,r=a.data,i=a.yLabelSize,s=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),c=(s.width-n)/2,o=e.clientX-s.left-c,l=[];r.map((function(e,a){l.push({svgX:t.getSvgX(e.x),svgY:t.getSvgY(e.y),d:e.d,p:e.p})}));for(var u={},h=0,v=500;h<l.length;h++)Math.abs(l[h].svgX-this.state.hoverLoc)<=v&&(v=Math.abs(l[h].svgX-this.state.hoverLoc),u=l[h]);o-i<0?this.stopHover():(this.setState({hoverLoc:o,activePoint:u}),this.props.onChartHover(o,u))}},{key:"stopHover",value:function(){this.setState({hoverLoc:null,activePoint:null}),this.props.onChartHover(null,null)}},{key:"makeActivePoint",value:function(){var e=this.props,t=e.color,a=e.pointRadius;return r.a.createElement("circle",{className:"linechart_point",style:{stroke:t},r:a,cx:this.state.activePoint.svgX,cy:this.state.activePoint.svgY})}},{key:"createLine",value:function(){var e=this.props,t=e.svgHeight,a=e.xLabelSize;return r.a.createElement("line",{className:"hoverLine",x1:this.state.hoverLoc,y1:-8,x2:this.state.hoverLoc,y2:t-a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.svgHeight,n=t.svgWidth;return r.a.createElement("svg",{width:n,height:a,viewBox:"0 0 ".concat(n," ").concat(a),className:"linechart",onMouseLeave:function(){return e.stopHover()},onMouseMove:function(t){return e.getCoords(t)}},r.a.createElement("g",null,this.makeAxis(),this.makePath(),this.makeArea(),this.makeLabels(),this.state.hoverLoc?this.createLine():null,this.state.hoverLoc?this.makeActivePoint():null))}}]),t}(n.Component));f.defaultProps={data:[],color:"#2196F3",pointRadius:5,svgHeight:300,svgWidth:900,xLabelSize:20,yLabelSize:80};var E=f,x=(a(23),function(e){var t=e.hoverLoc,a=e.activePoint,n=document.getElementsByClassName("linechart")[0].getBoundingClientRect(),i={};return i.width="100px",i.left=t+n.left-50,r.a.createElement("div",{className:"hover",style:i},r.a.createElement("div",{className:"date"},a.d),r.a.createElement("div",{className:"price"},Number(a.p).toLocaleString("us-EN",{style:"currency",currency:"USD"})))});var b=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],i=t[1],s=Object(n.useState)(null),c=Object(u.a)(s,2),h=c[0],g=c[1],d=Object(n.useState)(null),y=Object(u.a)(d,2),p=y[0],S=y[1],f=Object(n.useState)(null),b=Object(u.a)(f,2),L=b[0],N=b[1];return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=TSLA&apikey=[YOUR_KEY_HERE]",e.next=3,fetch("https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=TSLA&apikey=[YOUR_KEY_HERE]");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){!function(e){var t=[],a=29;for(var n in e["Time Series (Daily)"])if(t.unshift({d:v()(n).format("MMM DD"),p:e["Time Series (Daily)"][n]["4. close"].toLocaleString("us-EN",{style:"currency",currency:"USD"}),x:a,y:Number(e["Time Series (Daily)"][n]["4. close"]).toFixed(2)}),(a-=1)<0)break;g(t),i(!1)}(e)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h1",null,"30 (Trading) Day TSLA Price Chart")),r.a.createElement("div",{className:"row"},a?null:r.a.createElement(m,{data:h})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"popup"},p?r.a.createElement(x,{hoverLoc:p,activePoint:L}):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"chart"},a?null:r.a.createElement(E,{data:h,onChartHover:function(e,t){return function(e,t){S(e),N(t)}(e,t)}}))))};s.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.d7d82f76.chunk.js.map